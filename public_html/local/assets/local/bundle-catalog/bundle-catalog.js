(()=>{"use strict";var t={p:"/local/assets/"};t.p,t.p,t.p;const e=()=>{const t=document.querySelector(".catalog-list-container"),e=document.querySelector(".catalog-list"),s=Array.from(document.querySelectorAll(".catalog-filter__button")),r=Array.from(document.querySelectorAll(".catalog-card"));let n,c="",o=null;function l(s){const l=s.target,a=l.dataset.filter;c!==a&&(o.classList.remove("catalog-filter__button_active"),l.classList.add("catalog-filter__button_active"),o=l,c=a,e.classList.add("catalog-list_hide"),clearTimeout(n),n=setTimeout((()=>{t.style.height=e.clientHeight+"px",e.innerHTML="",r.forEach((t=>{"all"!==c&&t.dataset.filter!==c||e.append(t)})),t.style.height=e.clientHeight+"px",n=setTimeout((()=>{t.style.height="",e.classList.remove("catalog-list_hide")}),500)}),300))}t&&e&&s.length&&r.length&&(o=s.find((t=>"all"===t.dataset.filter)),o&&(c="all"),s.forEach((t=>t.addEventListener("click",l))))};t.p;class s{constructor(t){this.params={selectors:{wrapper:"",toCart:"",counter:".counter",minusBtn:".counter__btn_minus",plusBtn:".counter__btn_plus",control:".counter__control"},classes:{wrapperCounterShow:""},...t},this.INTERVAL=200,this.init()}init(){this.selectors=this.params.selectors,this.classes=this.params.classes,this.selectors.wrapper&&this.selectors.toCart&&(this.intervalTimer=null,this.decrement=this.decrement.bind(this),this.increment=this.increment.bind(this),this.attachEvents())}attachEvents(){document.addEventListener("click",this.docClickHandler.bind(this)),document.addEventListener("mousedown",this.mouseDownHandler.bind(this)),document.addEventListener("mouseup",this.mouseUpHandler.bind(this))}docClickHandler(t){const e=t.target.closest(this.selectors.toCart);if(e)return this.showCounter(e),!0;const s=t.target.closest(this.selectors.minusBtn);if(s)return this.decrementClickHandler(s),!0;const r=t.target.closest(this.selectors.plusBtn);return r?(this.incrementClickHandler(r),!0):void 0}mouseDownHandler(t){const e=t.target.closest(this.selectors.minusBtn);if(e){const t=e.closest(this.selectors.counter),s=t.querySelector(this.selectors.control);return this.createIntervalIncrement((()=>{this.decrement(s,t)})),!0}const s=t.target.closest(this.selectors.plusBtn);if(s){const t=s.closest(this.selectors.counter),e=t.querySelector(this.selectors.control);return this.createIntervalIncrement((()=>{this.increment(e,t)})),!0}}mouseUpHandler(t){if(t.target.closest(this.selectors.minusBtn))return this.clearIntervalIncrement(),!0;return t.target.closest(this.selectors.plusBtn)?(this.clearIntervalIncrement(),!0):void 0}decrementClickHandler(t){const e=t.closest(this.selectors.counter),s=e.querySelector(this.selectors.control);s&&this.decrement(s,e)}decrement(t,e){let s=+t.value-1;s>0?t.value=s:(this.hideCounter(e),this.clearIntervalIncrement())}incrementClickHandler(t){const e=t.closest(this.selectors.counter),s=e.querySelector(this.selectors.control);s&&this.increment(s,e)}increment(t,e){let s=+t.value+1;t.max&&s>=t.max&&(s=t.max,this.clearIntervalIncrement()),t.value=s}showCounter(t){const e=t.closest(this.selectors.wrapper);e&&e.classList.add(this.classes.wrapperCounterShow)}hideCounter(t){const e=t.closest(this.selectors.wrapper);e&&e.classList.remove(this.classes.wrapperCounterShow)}createIntervalIncrement(t){this.clearIntervalIncrement(),this.intervalTimer=setInterval(t,this.INTERVAL)}clearIntervalIncrement(){clearInterval(this.intervalTimer)}}document.addEventListener("DOMContentLoaded",(()=>{e(),new s({selectors:{wrapper:".catalog-card-to-cart",toCart:".catalog-card-to-cart__button",counter:".counter",minusBtn:".counter__btn_minus",plusBtn:".counter__btn_plus",control:".counter__control"},classes:{wrapperCounterShow:"catalog-card-to-cart_show-counter"}});const t=document.querySelectorAll(".catalog__anchor");t.length&&t.forEach((t=>{t.addEventListener("click",(()=>{const e=t.dataset.src;if(e){const t=document.querySelector(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}}))}))}))})();